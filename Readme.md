# TG Discord Interface

## Опис

Цей проект реалізує програму, яка автоматично взаємодіє з платформами Telegram та Discord. Основна його функція — передача повідомлень між заданими каналами Telegram і серверами Discord.

## Функціонал

- Передача повідомлень між каналами Telegram і серверами Discord.
- Інтерфейс користувача для швидкого налаштування параметрів (`PyQt5`).
- Модифікація налаштувань безпосередньо через файл `config.json`.
- Підтримка прив’язки ID та URL каналів.

## Вимоги

Перед початком, вам знадобляться:

- Python **3.13.1** (або новіша версія).
- Віртуальне середовище (рекомендується для уникнення залежностей).
- Залежності, перелічені у файлі `requirements.txt`.

## Установка

### Крок 1. Встановлення Python

1. **Windows:**
   - Завантажте Python із [https://www.python.org/](https://www.python.org/).
   - Під час інсталяції обов'язково відмітьте опцію **"Add Python to PATH"**.

2. **Linux:**
   - Встановіть Python через системний менеджер пакетів:
     ```bash
     sudo apt update
     sudo apt install python3 python3-venv python3-pip
     ```

### Крок 2. Клонування репозиторію

Завантажте код із репозиторію (замініть `<URL_репозиторію>` на посилання вашого репозиторію):

```bash
git clone <URL_репозиторію>
cd <назва_папки_з_проектом>
```

### Крок 3. Налаштування віртуального середовища

- **Windows**:
  ```bash
  python -m venv venv
  .\venv\Scripts\activate
  ```
- **Linux**:
  ```bash
  python3 -m venv venv
  source venv/bin/activate
  ```

### Крок 4. Інсталяція бібліотек

Увімкнувши віртуальне середовище, виконайте команду:

```bash
pip install -r requirements.txt
```

## Налаштування

Перед використанням програми вам потрібно оформити ключі й налаштування.

### Отримання конфігураційних даних

1. **API ID та API Hash для Telegram:**
   - Зайдіть на [my.telegram.org](https://my.telegram.org).
   - Увійдіть до свого облікового запису Telegram.
   - Створіть новий додаток у розділі `"API development tools"`.
   - Отримайте свій `api_id` та `api_hash`.

2. **Отримання ID каналу Telegram:**
   - Зайдіть у вебверсію Telegram: [web.telegram.org](https://web.telegram.org).
   - Відкрийте потрібний канал. У рядку браузера ви побачите URL. `ID` каналу — це рядок/число після `t.me/`.
   - Для приватних каналів використовуйте формат `-100XXXXXXXXX`.

3. **Отримання Discord Token:**
   - Увімкніть інструменти розробника (F12 або Ctrl + Shift + I).
   - Перейдіть у вкладку "Network".
   - Відправте будь-яке повідомлення у будь-який Discord-канал.
   - Знайдіть запит із заголовком `"Authorization"`. Це і є ваш токен (не розголошуйте його).

4. **Отримання Guild ID (серверу Discord):**
   - У Discord увімкніть `"Developer Mode"` у налаштуваннях користувача.
   - Клікніть ПКМ на сервер і виберіть `"Copy ID"`.

### Заповнення `config.json`

Відредагуйте файл `config.json` у кореневій папці проєкту. Дотримуйтесь такого шаблону:

```json
{
    "DISCORD_TOKEN": "ваш_discord_токен",
    "TARGET_GUILD_ID": "ID_сервера_Discord",
    "account": {
        "api_id": "ваш_api_id",
        "api_hash": "ваш_api_hash"
    }
}
```

- **`DISCORD_TOKEN`** — ваш токен облікового запису Discord.
- **`TARGET_GUILD_ID`** — ID сервера Discord.
- **`source_channel_ids`** — Telegram-канали, з яких беруться повідомлення.
- **`account`** — API ID та API Hash вашого Telegram облікового запису.

### Конфігурація каналів у файлі `channel_to_channel.json`

Використовуйте такий формат, щоб зв'язати сервери Discord із каналами Telegram:

```json
{
    "ID_каналу_Discord/Telegram": "https://t.me/URL_іншого_каналу"
}
```

## Запуск програми

1. Запустіть файл `tg_discord_interface.py` за допомогою команди:

    ```bash
    python tg_discord_interface.py
    ```

    **Інтерфейс програми** дає змогу змінювати налаштування, додавати пари каналів (ID → URL) і запускати процеси.

2. Для автономного виконання, з використанням CLI (без UI):

    ```bash
    python telegram_parser.py
    python discord_parser.py
    ```

## Використання

1. В інтерфейсі програми:
   - Додайте значення ключів, ID каналів та серверів у відповідні текстові поля.
   - Використовуйте `Apply` для збереження конфігурацій.
   - Натискайте `Start`, щоб запустити обидва процеси.
   - Привітка "Перший запуск програми супроводжується необхідністю підтвердити клієнт Telegram (читати нижче)".
   1) Для цього необхідно в терміналі, де Вас запитують номер телефону, ввести свій номер телефону від акаунту Telegram.
   2) Після цього на ваш акаунт Telegram надійде повідомлення від офіційного бота Telegram з кодом доступу, який потрібно ввести в цей же термінал.

2. Програму можна зупинити через кнопку `Stop`.

## Додаткові примітки

- Інформацію про оброблені дані можна знайти в автоматично створюваних JSON-файлах, таких як `discord_messages.json`.
- Програму для коректної роботи, потрібно завершувати через кнопку stop.

## Примітка щодо безпеки

Ваш Discord Token і Telegram API ключі є конфіденційною інформацією. Тримайте ці дані в безпеці й не діліться ними з іншими.


